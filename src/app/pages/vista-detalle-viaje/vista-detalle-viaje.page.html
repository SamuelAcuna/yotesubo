<ion-header>
  <ion-toolbar color="secondary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="home"></ion-back-button>
      
    </ion-buttons>
    <ion-title class="ion-text-capitalize ion-text-center" mode="md"> Detalle Viaje</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-card>
    <img src="{{viaje?.imagen}}" 
    alt="Imagen del viaje" 
    class="viaje-imagen"
    onerror="this.src='assets/img/default.jpg'"/>

    <ion-card-header>
      <ion-card-title>Datos del Viaje</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-item>
        <ion-label>Destino:</ion-label>
        <ion-note slot="end">{{viaje?.comuna}}</ion-note>
      </ion-item>
      
      <ion-item>
        <ion-label>Fecha:</ion-label>
        <ion-note slot="end">{{fechaFormateada}}</ion-note>
      </ion-item>
      <ion-item>
        <ion-label>Hora:</ion-label>
        <ion-note slot="end">{{viaje?.hora}}</ion-note>
      </ion-item>
      
      <ion-item>
        <ion-label>Asientos Disponibles:</ion-label>
        <ion-note slot="end">{{viaje?.asientosDisponibles}}</ion-note>
      </ion-item>
      <ion-item>
        <ion-label>Precio:</ion-label>
        <ion-note slot="end">{{viaje?.precio}}</ion-note>
      </ion-item>

      <ion-item>
        <ion-label>Estado:</ion-label>
        <ion-note slot="end">
          <span class="estado aceptado">{{viaje?.estado}}</span>
        </ion-note>
      </ion-item>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Anfitrion</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      
        <ion-item>
          <ion-avatar slot="start">
            <img src="https://cdn-icons-png.flaticon.com/512/3135/3135768.png" alt="Ocupante 1" />
          </ion-avatar>
          <ion-label>{{conductor?.nombreCompleto}} </ion-label>
          <ion-button fill="clear" (click)="openWhatsApp(conductor?.celular || '')">
            <ion-icon name="logo-whatsapp"></ion-icon>
          </ion-button>
          <ion-button fill="clear" slot="end" (click)="openCallApp(conductor?.celular || '')">
            <ion-icon name="call"></ion-icon>
          </ion-button>
        </ion-item>
    
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Ocupantes</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-list>
        <ion-item *ngFor="let ocupante of viaje?.pasajeros">
          <ion-avatar slot="start">
            <img src="https://cdn-icons-png.flaticon.com/512/3135/3135768.png" alt="Avatar" />
          </ion-avatar>
          <ion-label>{{ocupante.nombreCompleto}}</ion-label>
          <ion-button fill="clear" (click)="openWhatsApp(ocupante.celular)">
            <ion-icon name="logo-whatsapp"></ion-icon>
          </ion-button>
          <ion-button fill="clear" slot="end" (click)="openCallApp(ocupante.celular)">
            <ion-icon name="call"></ion-icon>
          </ion-button>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
  <ion-button expand="full" color="primary" class="ion-margin-top" (click)="pedirViaje()">
    Pedir Viaje
  </ion-button>
 
  
</ion-content>
